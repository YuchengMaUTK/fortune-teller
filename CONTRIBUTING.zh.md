# è´¡çŒ®æŒ‡å—

**[English](CONTRIBUTING.md) | ä¸­æ–‡**

æ„Ÿè°¢æ‚¨å¯¹éœ„å é¡¹ç›®çš„è´¡çŒ®å…´è¶£ï¼æœ¬æ–‡æ¡£ä¸ºæˆ‘ä»¬ç°ä»£åŒ–çš„AIé©±åŠ¨å åœåº”ç”¨æä¾›è´¡çŒ®æŒ‡å—ã€‚

## ğŸŒŸ é¡¹ç›®æ¦‚è§ˆ

éœ„å æ˜¯ä¸€ä¸ªç®€æ´ã€ç°ä»£çš„åº”ç”¨ç¨‹åºï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹è‰²ï¼š
- **ğŸŒ åŒè¯­æ”¯æŒ** (ä¸­è‹±æ–‡) ä¸“ä¸šå›½é™…åŒ–ç³»ç»Ÿ
- **âŒ¨ï¸ ç°ä»£é”®ç›˜å¯¼èˆª** æµç•…çš„æ–¹å‘é”®æ§åˆ¶
- **âš¡ å®æ—¶æµå¼è¾“å‡º** LLMå“åº”
- **ğŸ¯ ç²¾ç¡®è®¡ç®—** é€šè¿‡MCP (æ¨¡å‹ä¸Šä¸‹æ–‡åè®®) å·¥å…·
- **ğŸ¨ ä¸“ä¸šç»ˆç«¯ç•Œé¢** å¸¦é¢œè‰²å’ŒåŠ¨ç”»

## ğŸš€ å¼€å§‹ä½¿ç”¨

### å‰ç½®è¦æ±‚

- Python 3.8+
- Git
- ä»¥ä¸‹LLMæœåŠ¡å•†ä¹‹ä¸€ï¼š
  - AWS Bedrock (æ¨è)
  - OpenAI API
  - Anthropic API

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# 1. Forkå¹¶å…‹éš†ä»“åº“
git clone https://github.com/yourusername/fortune-teller.git
cd fortune-teller

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. è®¾ç½®é…ç½®
cp config.yaml.mock config.yaml  # æµ‹è¯•æ¨¡å¼ï¼Œæ— éœ€APIå¯†é’¥
# æˆ–è€…
cp config.yaml.example config.yaml  # é…ç½®æ‚¨çš„LLMæœåŠ¡å•†

# 5. è¿è¡Œåº”ç”¨
python -m fortune_teller
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ ¸å¿ƒç»„ä»¶

```
fortune_teller/
â”œâ”€â”€ simple_main.py          # ç®€æ´çš„ä¸»åº”ç”¨ç¨‹åº
â”œâ”€â”€ i18n/                   # å›½é™…åŒ–ç³»ç»Ÿ
â”‚   â””â”€â”€ locales/           # ç¿»è¯‘æ–‡ä»¶ (en.json, zh.json)
â”œâ”€â”€ ui/                     # ç”¨æˆ·ç•Œé¢ç»„ä»¶
â”‚   â”œâ”€â”€ keyboard_input.py  # æ–¹å‘é”®å¯¼èˆª
â”‚   â””â”€â”€ colors.py          # ç»ˆç«¯æ ·å¼
â”œâ”€â”€ tools/                  # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ llm_tool.py        # å¸¦æµå¼è¾“å‡ºçš„LLMé›†æˆ
â”‚   â””â”€â”€ mcp_tool.py        # æ¨¡å‹ä¸Šä¸‹æ–‡åè®®å·¥å…·
â””â”€â”€ mcp/tools/             # å åœè®¡ç®—
    â”œâ”€â”€ bazi_converter.py  # ä¸­å›½å…«å­—è®¡ç®—
    â”œâ”€â”€ tarot_picker.py    # å¡”ç½—ç‰Œé€‰æ‹©
    â””â”€â”€ zodiac_converter.py # è¥¿æ–¹å æ˜Ÿ
```

## ğŸ¤ å¦‚ä½•è´¡çŒ®

### 1. **BugæŠ¥å‘Š**

æŠ¥å‘ŠBugæ—¶ï¼Œè¯·åŒ…å«ï¼š
- **ç¯å¢ƒä¿¡æ¯**: æ“ä½œç³»ç»Ÿã€Pythonç‰ˆæœ¬ã€LLMæœåŠ¡å•†
- **é‡ç°æ­¥éª¤**: æ¸…æ™°çš„ç¼–å·æ­¥éª¤
- **é¢„æœŸä¸å®é™…è¡Œä¸º**
- **é”™è¯¯ä¿¡æ¯**: å®Œæ•´çš„å †æ ˆè·Ÿè¸ªï¼ˆå¦‚æœ‰ï¼‰
- **é…ç½®**: æ¸…ç†åçš„é…ç½®ï¼ˆç§»é™¤APIå¯†é’¥ï¼‰

### 2. **åŠŸèƒ½è¯·æ±‚**

å¯¹äºæ–°åŠŸèƒ½ï¼Œè¯·ï¼š
- **æ£€æŸ¥ç°æœ‰é—®é¢˜** é¿å…é‡å¤
- **æè¿°ç”¨ä¾‹** å’Œç”¨æˆ·æ”¶ç›Š
- **è€ƒè™‘å›½é™…åŒ–** (ä¸­è‹±æ–‡æ”¯æŒ)
- **æ€è€ƒUI/UX** å¯¹é”®ç›˜å¯¼èˆªçš„å½±å“

### 3. **ä»£ç è´¡çŒ®**

#### Pull Requestæµç¨‹

1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**:
   ```bash
   git checkout -b feature/your-feature-name
   ```

2. **éµå¾ªç¼–ç æ ‡å‡†**:
   - ç®€æ´ã€å¯è¯»çš„ä»£ç ï¼Œæœ‰æ„ä¹‰çš„å‘½å
   - é€‚å½“çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
   - æ”¯æŒä¸­è‹±æ–‡åŒè¯­
   - ä¿æŒé”®ç›˜å¯¼èˆªå…¼å®¹æ€§

3. **æµ‹è¯•æ‚¨çš„æ›´æ”¹**:
   ```bash
   # æµ‹è¯•åŸºæœ¬åŠŸèƒ½
   python -m fortune_teller
   
   # æµ‹è¯•i18nç³»ç»Ÿ
   python -c "from fortune_teller.i18n import t; print(t('welcome_title', 'zh'))"
   
   # æµ‹è¯•é”®ç›˜å¯¼èˆªï¼ˆäº¤äº’å¼ï¼‰
   python tests/test_keyboard.py
   ```

4. **æ›´æ–°æ–‡æ¡£**:
   - å¦‚éœ€è¦ï¼Œæ›´æ–°README.mdå’ŒREADME.zh.md
   - åœ¨i18n/locales/ä¸­æ·»åŠ /æ›´æ–°ç¿»è¯‘é”®
   - è®°å½•æ–°çš„é…ç½®é€‰é¡¹

5. **æäº¤pull request**:
   - æ¸…æ™°çš„æ ‡é¢˜å’Œæè¿°
   - å¼•ç”¨ç›¸å…³é—®é¢˜
   - åŒ…å«UIæ›´æ”¹çš„æˆªå›¾

#### ä»£ç é£æ ¼æŒ‡å—

- **Python**: éµå¾ªPEP 8ï¼Œä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å
- **Async/await**: ç”¨äºLLMè°ƒç”¨å’ŒI/Oæ“ä½œ
- **é”™è¯¯å¤„ç†**: ä¼˜é›…é™çº§ï¼Œç”¨æˆ·å‹å¥½çš„æ¶ˆæ¯
- **å›½é™…åŒ–**: æ‰€æœ‰é¢å‘ç”¨æˆ·çš„æ–‡æœ¬å¿…é¡»ä½¿ç”¨i18nç³»ç»Ÿ
- **æ³¨é‡Š**: è§£é‡Šå¤æ‚é€»è¾‘ï¼Œç‰¹åˆ«æ˜¯å åœç®—æ³•

### 4. **æ·»åŠ æ–°å åœç³»ç»Ÿ**

è¦æ·»åŠ æ–°çš„å åœç³»ç»Ÿï¼ˆå¦‚æ˜“ç»ã€æ•°å­—å‘½ç†å­¦ï¼‰ï¼š

1. **åˆ›å»ºMCPå·¥å…·**:
   ```python
   # mcp/tools/new_system_converter.py
   #!/usr/bin/env python3
   """æ–°å åœç³»ç»Ÿè®¡ç®—"""
   
   def calculate_fortune(birth_date, additional_params):
       """ä½¿ç”¨æ–°ç³»ç»Ÿè®¡ç®—å‘½è¿"""
       # å®ç°ä»£ç 
       return {"result": "fortune_data"}
   ```

2. **æ·»åŠ ç¿»è¯‘**:
   ```json
   // i18n/locales/en.json
   {
     "system_new": "New Fortune System",
     "system_new_desc": "Description of the new system"
   }
   
   // i18n/locales/zh.json  
   {
     "system_new": "æ–°å åœç³»ç»Ÿ",
     "system_new_desc": "æ–°ç³»ç»Ÿçš„æè¿°"
   }
   ```

3. **æ›´æ–°UI**:
   ```python
   # æ·»åŠ åˆ° ui/keyboard_input.py select_fortune_system()
   options.append(f"ğŸ”® {t('system_new', language)} - {t('system_new_desc', language)}")
   ```

4. **åœ¨ä¸»åº”ç”¨ä¸­å®ç°**:
   ```python
   # æ·»åŠ åˆ° simple_main.py
   async def run_new_system(self):
       """è¿è¡Œæ–°å åœç³»ç»Ÿ"""
       # å®ç°ä»£ç 
   ```

### 5. **å›½é™…åŒ– (i18n)**

æ·»åŠ æ–°æ–‡æœ¬æ—¶ï¼š

1. **æ°¸è¿œä¸è¦ç¡¬ç¼–ç å­—ç¬¦ä¸²**:
   ```python
   # âŒ é”™è¯¯
   print("æ¬¢è¿ä½¿ç”¨éœ„å ")
   
   # âœ… æ­£ç¡®
   from fortune_teller.i18n import t
   print(t("welcome_title", language))
   ```

2. **æ·»åŠ åˆ°ä¸¤ä¸ªè¯­è¨€æ–‡ä»¶**:
   ```json
   // en.json
   {"new_feature_title": "New Feature"}
   
   // zh.json  
   {"new_feature_title": "æ–°åŠŸèƒ½"}
   ```

3. **ä½¿ç”¨æè¿°æ€§é”®å**:
   ```python
   # âœ… å¥½çš„é”®å
   t("error_invalid_date", lang)
   t("system_bazi_desc", lang)
   t("navigation_arrows", lang)
   ```

## ğŸ§ª æµ‹è¯•

### æ‰‹åŠ¨æµ‹è¯•

```bash
# æµ‹è¯•è¯­è¨€åˆ‡æ¢
python -m fortune_teller

# æµ‹è¯•æµå¼è¾“å‡º
python tests/test_simple_streaming.py

# æµ‹è¯•i18nç³»ç»Ÿ
python tests/test_i18n_complete.py
```

### è‡ªåŠ¨åŒ–æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# æµ‹è¯•ç‰¹å®šç»„ä»¶
python -m pytest tests/test_i18n_complete.py -v
```

## ğŸ“‹ å¼€å‘æŒ‡å—

### æäº¤ä¿¡æ¯

ä½¿ç”¨å¸¦è¡¨æƒ…ç¬¦å·çš„çº¦å®šå¼æäº¤ï¼š

```bash
# åŠŸèƒ½
git commit -m "âœ¨ æ·»åŠ æ–°å¡”ç½—ç‰Œé˜µé€‰æ‹©"

# Bugä¿®å¤  
git commit -m "ğŸ› ä¿®å¤Windowsé”®ç›˜å¯¼èˆªé—®é¢˜"

# æ–‡æ¡£
git commit -m "ğŸ“š æ›´æ–°å®‰è£…è¯´æ˜"

# å›½é™…åŒ–
git commit -m "ğŸŒ æ·»åŠ è¥¿ç­ç‰™è¯­ç¿»è¯‘æ”¯æŒ"

# é‡æ„
git commit -m "â™»ï¸ ç®€åŒ–LLMå·¥å…·åˆå§‹åŒ–"
```

### åˆ†æ”¯å‘½å

- `feature/add-numerology-system`
- `bugfix/keyboard-navigation-windows`
- `docs/update-contributing-guide`
- `i18n/add-spanish-support`

## ğŸ¯ ä¼˜å…ˆé¢†åŸŸ

æˆ‘ä»¬ç‰¹åˆ«æ¬¢è¿ä»¥ä¸‹æ–¹é¢çš„è´¡çŒ®ï¼š

1. **ğŸŒ æ–°è¯­è¨€**: è¥¿ç­ç‰™è¯­ã€æ³•è¯­ã€æ—¥è¯­ç¿»è¯‘
2. **ğŸ”® å åœç³»ç»Ÿ**: æ˜“ç»ã€æ•°å­—å‘½ç†å­¦ã€ç¬¦æ–‡
3. **ğŸ¨ UIæ”¹è¿›**: æ›´å¥½çš„åŠ¨ç”»ã€è¿›åº¦æŒ‡ç¤ºå™¨
4. **ğŸ§ª æµ‹è¯•**: è‡ªåŠ¨åŒ–æµ‹è¯•ã€è¾¹ç¼˜æƒ…å†µå¤„ç†
5. **ğŸ“± å¹³å°æ”¯æŒ**: Windowså…¼å®¹æ€§ã€ç§»åŠ¨å‹å¥½è¾“å‡º
6. **âš¡ æ€§èƒ½**: æ›´å¿«çš„LLMå“åº”ã€ç¼“å­˜

## ğŸ†˜ è·å–å¸®åŠ©

- **ğŸ’¬ è®¨è®º**: ä½¿ç”¨GitHub Discussionsæé—®
- **ğŸ› é—®é¢˜**: é€šè¿‡GitHub IssuesæŠ¥å‘ŠBug
- **ğŸ“§ è”ç³»**: è”ç³»ç»´æŠ¤è€…è¿›è¡Œå¤æ‚è´¡çŒ®

## ğŸ“„ è®¸å¯è¯

é€šè¿‡è´¡çŒ®ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†åœ¨MITè®¸å¯è¯ä¸‹æˆæƒã€‚

---

**æ„Ÿè°¢æ‚¨å¸®åŠ©éœ„å å˜å¾—æ›´å¥½ï¼** âœ¨
